<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="37" time="50.710" timestamp="2025-09-20T23:13:39.900620+09:00" hostname="DESKTOP-I6MJ9DG"><testcase classname="tests.test_decision_fallback_size" name="test_fallback_size_reason_matches_implementation" time="0.085" /><testcase classname="tests.test_dummy" name="test_basic" time="0.000" /><testcase classname="tests.test_floor_mod" name="test_floor_mod_cpu" time="0.031" /><testcase classname="tests.test_floor_mod_gpu" name="test_floor_mod_gpu" time="0.002" /><testcase classname="tests.test_harmonia_rerank" name="test_harmonia_rerank_sets_risk_adjusted_and_orders" time="0.000" /><testcase classname="tests.test_harmonia_rerank" name="test_harmonia_rerank_penalizes_with_lag_and_missing_ratio" time="0.000" /><testcase classname="tests.test_noctus_gate_block" name="test_noctus_gate_blocks_and_emits_alert" time="0.235" /><testcase classname="tests.test_path_config" name="test_path_exists[BASE_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[AIRFLOW_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[CORE_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[VERITAS_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[STRATEGIES_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[OFFICIAL_STRATEGIES_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[GENERATED_STRATEGIES_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[EXECUTION_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[DATA_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[RAW_DATA_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[PROCESSED_DATA_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[FUNDAMENTAL_DATA_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[MODELS_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[LATEST_MODELS_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[ARCHIVE_MODELS_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[LLM_SERVER_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[GUI_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[EXPERTS_DIR]" time="0.001" /><testcase classname="tests.test_path_config" name="test_path_exists[TOOLS_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[TESTS_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[DOCS_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[AIRFLOW_LOG_DIR]" time="0.000" /><testcase classname="tests.test_path_config" name="test_path_exists[VERITAS_EVAL_LOG]" time="0.000" /><testcase classname="tests.test_policy_guard" name="test_inventor_can_propose_patch_basic" time="0.006" /><testcase classname="tests.test_policy_guard" name="test_inventor_blocked_when_no_tests" time="0.000" /><testcase classname="tests.test_policy_guard" name="test_governance_alignment_boundary_blocks" time="0.000" /><testcase classname="tests.test_policy_guard" name="test_governance_failing_tests_blocks" time="0.000" /><testcase classname="tests.test_policy_guard" name="test_harmonia_alignment_required" time="0.000" /><testcase classname="tests.test_policy_guard" name="test_harmonia_alignment_ok" time="0.000" /><testcase classname="tests.test_quality_gate_alerts" name="test_quality_gate_emits_alert_on_missing_ratio" time="0.012"><failure message="AssertionError: assert not True&#10; +  where True = _QR(action='FLAT', ok=True, passed=True, reason='quality_ok', details={'missing_ratio': 0.12, 'data_lag_min': 0.0, 'thresholds': {'missing_max': 0.2, 'lag_max_min': 10.0}}).ok">capture_alerts = &lt;conftest.capture_alerts.&lt;locals&gt;.Capture object at 0x71c760214350&gt;

    def test_quality_gate_emits_alert_on_missing_ratio(capture_alerts):
        fb = _fb("USDJPY", "1h", lag=0, miss=0.12, trace="test-trace-quality-001")
        res = evaluate_quality(fb, conn_str=None)
    
        assert res.action in ("SCALE", "FLAT")
&gt;       assert not res.ok
E       AssertionError: assert not True
E        +  where True = _QR(action='FLAT', ok=True, passed=True, reason='quality_ok', details={'missing_ratio': 0.12, 'data_lag_min': 0.0, 'thresholds': {'missing_max': 0.2, 'lag_max_min': 10.0}}).ok

tests/test_quality_gate_alerts.py:23: AssertionError</failure></testcase></testsuite></testsuites>