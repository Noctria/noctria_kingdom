[pytest]
# 代理AI/CI 用のデフォルト挙動
addopts = -q --maxfail=1 -k "not integration"
# 収集対象を tests/ に限定（他の生成物ディレクトリは再帰対象外）
testpaths = tests

# 再帰収集から除外（Markdown混入や外部接続を含む）
norecursedirs =
    generated_code
    generated_code/**
    airflow_docker
    airflow_docker/**

markers =
    integration: integration tests

# うるさい警告はテスト内で都度最適化する想定。必要ならここに filterwarnings も追加可。
