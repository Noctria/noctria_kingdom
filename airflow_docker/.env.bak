# ======================================
# 📁 ホスト側パス（WSL/Dockerマウント用）
# ======================================
HOST_DAGS_PATH=/mnt/d/noctria_kingdom/airflow_docker/dags
HOST_LOGS_PATH=/mnt/d/noctria_kingdom/airflow_docker/logs
HOST_PLUGINS_PATH=/mnt/d/noctria_kingdom/airflow_docker/plugins

# ======================================
# 🔧 Airflow / Docker 設定
# ======================================
AIRFLOW_UID=1000
PYTHONPATH=/opt/airflow

# DAG・ログ・セキュリティ設定
AIRFLOW__CORE__DAGS_FOLDER=/opt/airflow/dags
AIRFLOW__LOGGING__BASE_LOG_FOLDER=/opt/airflow/logs
AIRFLOW__CORE__FERNET_KEY=6LKqwTHAAeaA56VYt4BNLL236LhGagXYl2YMRzcXv3U=
AIRFLOW__WEBSERVER__SECRET_KEY=+khCXbLFuoR3Bvxs8pHGpw==
AIRFLOW__LOGGING__LOGGING_LEVEL=INFO
AIRFLOW__API__AUTH_BACKENDS=airflow.api.auth.backend.basic_auth

# ======================================
# 🐘 PostgreSQL 設定
# ======================================
POSTGRES_USER=airflow
POSTGRES_PASSWORD=airflow
POSTGRES_DB=airflow
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Airflow用DB
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres:5432/airflow
AIRFLOW__CELERY__RESULT_BACKEND=db+postgresql+psycopg2://airflow:airflow@postgres:5432/airflow

# Optuna用DB（初期化SQLで optuna_db を CREATE）
OPTUNA_DB_URL=postgresql+psycopg2://airflow:airflow@postgres:5432/airflow

# ======================================
# 🔁 Celery Executor（Redis連携）
# ======================================
REDIS_URL=redis://redis:6379/0
AIRFLOW__CELERY__BROKER_URL=${REDIS_URL}

# ======================================
# 🤗 HuggingFace モデル用（GPU向けLLMキャッシュ対応）
# ======================================
HF_TOKEN=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
HF_HOME=/opt/airflow/hf_cache
HF_HUB_DISABLE_TELEMETRY=1
