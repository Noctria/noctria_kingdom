# ================================
# ğŸŒª Noctria Kingdom: Airflow Dockerfile
# ãƒ™ãƒ¼ã‚¹: Apache Airflow 2.7.3 + Python 3.10
# ================================

FROM apache/airflow:2.7.3-python3.10

# ç’°å¢ƒå¤‰æ•°ï¼ˆãƒ­ã‚°å¼·åº¦ã‚„PYTHONPATHã®èª¿æ•´ãªã©ï¼‰
ENV PYTHONUNBUFFERED=1 \
    PYTHONPATH=/noctria_kingdom

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒªã‚¹ãƒˆã¨åˆ¶ç´„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ³ãƒ†ãƒŠã«ã‚³ãƒ”ãƒ¼
COPY requirements.txt /requirements.txt
COPY constraints.txt /constraints.txt

# pipãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆAirflow 2.7.3 + constraintså¯¾å¿œï¼‰
RUN pip install --upgrade pip \
 && pip install --no-cache-dir -r /requirements.txt --constraint /constraints.txt
