{% extends "base_hud.html" %}

{% block title %}ğŸ‘‘ è©•è­°ä¼šãƒ­ã‚°å±¥æ­´ - Noctria Kingdom HUD{% endblock %}

{% block header_icon %}<i class="fas fa-crown"></i>{% endblock %}
{% block header_title %}è©•è­°ä¼šãƒ­ã‚°å±¥æ­´{% endblock %}
{% block header_nav_href %}/dashboard{% endblock %}
{% block header_nav_text %}DASHBOARD{% endblock %}

{% block content %}

<!-- âš ï¸ ã‚¨ãƒ©ãƒ¼è¡¨ç¤º -->
{% if error %}
  <div class="hud-panel" style="border: 1px solid red; background: #ffe6e6; color: darkred;">
    âš ï¸ èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: {{ error }}
  </div>
{% endif %}

<!-- ğŸ“œ ãƒ­ã‚°è¡¨ç¤º -->
<section class="hud-panel log-panel">
  {% if logs %}
    <div class="table-wrapper">
      <table class="hud-table">
        <thead>
          <tr>
            <th>ğŸ•’ æ—¥æ™‚</th>
            <th>ğŸ“œ æœ€çµ‚åˆ¤æ–­</th>
            <th>ğŸ“˜ Veritas</th>
            <th>ğŸ“ˆ Prometheus</th>
            <th>ğŸ—¡ï¸ Aurus</th>
            <th>ğŸŒŠ Levia</th>
            <th>ğŸ›¡ï¸ Noctus</th>
          </tr>
        </thead>
        <tbody>
          {% for log in logs %}
          <tr>
            <td>{{ log.timestamp }}</td>
            <td><strong>{{ log.result.final_decision or log.decision.final_decision or "-" }}</strong></td>
            <td>{{ log.result.veritas or log.decision.veritas or "-" }}</td>
            <td>
              {% set pf = log.result.prometheus_forecast or log.decision.prometheus_forecast %}
              {% if pf and pf.forecast is defined %}
                {{ pf.forecast }}
              {% else %}
                -
              {% endif %}
            </td>
            <td>{{ log.result.aurus or log.decision.aurus or "-" }}</td>
            <td>{{ log.result.levia or log.decision.levia or "-" }}</td>
            <td>{{ log.result.noctus or log.decision.noctus or "-" }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p style="text-align: center;">ğŸ“­ è©•è­°ä¼šã®å±¥æ­´ã¯ã¾ã å­˜åœ¨ã—ã¾ã›ã‚“ã€‚</p>
  {% endif %}
</section>

{% endblock %}
