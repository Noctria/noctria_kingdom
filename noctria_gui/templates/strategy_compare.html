{% extends "base_hud.html" %}

{% block title %}ğŸ“‘ æˆ¦ç•¥æ¯”è¼ƒ{% endblock %}
{% block header_icon %}<i class="fas fa-sliders-h"></i>{% endblock %}
{% block header_title %}æˆ¦ç•¥æ¯”è¼ƒ{% endblock %}
{% block header_nav %}
<a href="/dashboard" class="nav-item-back">
  <i class="fas fa-chart-line"></i><span>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸</span>
</a>
{% endblock %}

{% block content %}
  <form id="compareForm" method="get" action="/statistics/strategy_compare">
    <div id="options" class="table-wrapper" style="max-height: 60vh; padding: 1rem; display: flex; flex-direction: column; gap: 0.5rem;">
      <!-- æˆ¦ç•¥ã®é¸æŠè‚¢ã‚’è¡¨ç¤º -->
      <label for="strategy_1" class="strategy-item-checkbox">
        <input type="text" name="strategy_1" id="strategy_1" placeholder="æˆ¦ç•¥1" class="hud-input">
      </label>
      <label for="strategy_2" class="strategy-item-checkbox">
        <input type="text" name="strategy_2" id="strategy_2" placeholder="æˆ¦ç•¥2" class="hud-input">
      </label>
      <div>
        <button type="submit" class="hud-btn">ğŸ“ˆ æ¯”è¼ƒã™ã‚‹</button>
      </div>
    </div>
  </form>

  <div id="comparisonResults" style="margin-top: 2rem;">
    {% if comparison_results %}
      <h3>æ¯”è¼ƒçµæœ</h3>
      <table class="hud-table">
        <thead>
          <tr>
            <th>æˆ¦ç•¥</th>
            <th>å‹ç‡ (%)</th>
            <th>æœ€å¤§ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³ (%)</th>
            <th>å–å¼•æ•°</th>
          </tr>
        </thead>
        <tbody>
          {% for result in comparison_results %}
            <tr>
              <td>{{ result.strategy_name }}</td>
              <td>{{ result.win_rate | default('â€”') }}%</td>
              <td>{{ result.max_drawdown | default('â€”') }}%</td>
              <td>{{ result.trades }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>æˆ¦ç•¥æ¯”è¼ƒã®çµæœã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
    {% endif %}
  </div>
{% endblock %}
