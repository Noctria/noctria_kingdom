{% extends "base_hud.html" %}

{% block title %}📝 Action History{% endblock %}
{% block header_icon %}<i class="fas fa-history"></i>{% endblock %}
{% block header_title %}Action History{% endblock %}
{% block header_nav_href %}/dashboard{% endblock %}
{% block header_nav_text %}← ダッシュボードへ戻る{% endblock %}

{% block content %}
<section class="hud-panel">
  <h2 class="panel-title">📜 Action Logs</h2>
  {% if logs %}
  <table class="hud-table" style="width:100%;">
    <thead>
      <tr>
        <th>Timestamp</th>
        <th>Action Type</th>
        <th>Strategy</th>
        <th>Score Mean</th>
      </tr>
    </thead>
    <tbody>
      {% for log in logs %}
      <tr>
        <td>{{ log.get("timestamp", "-") }}</td>
        <td>{{ log.get("action_type", "-") }}</td>
        <td>{{ log.get("strategy_id", "-") }}</td>
        <td class="text-cyan" style="font-weight:700;">
          {% if log.get("score_mean") is not none %}
            {{ "%.2f"|format(log["score_mean"]) }}
          {% else %}
            -
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p class="hud-text-muted" style="margin-top:1rem;">No action logs available.</p>
  {% endif %}
</section>
{% endblock %}
