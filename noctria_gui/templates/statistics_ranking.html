{% extends "base_hud.html" %}
{% block title %}ğŸ… ã‚¿ã‚°åˆ¥æˆ¦ç•¥ãƒ©ãƒ³ã‚­ãƒ³ã‚°{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">ğŸ… ã‚¿ã‚°åˆ¥æˆ¦ç•¥ãƒ©ãƒ³ã‚­ãƒ³ã‚°</h1>

<!-- ğŸ” ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ -->
<form method="get" class="flex flex-wrap gap-4 items-center mb-6">
  <label class="flex items-center gap-2">
    <span>From:</span>
    <input type="date" name="from" value="{{ filter.from }}" class="input input-bordered">
  </label>
  <label class="flex items-center gap-2">
    <span>To:</span>
    <input type="date" name="to" value="{{ filter.to }}" class="input input-bordered">
  </label>
  <label class="flex items-center gap-2">
    <span>Tag:</span>
    <input type="text" name="tag" value="{{ filter.tag }}" class="input input-bordered">
  </label>
  <button type="submit" class="btn btn-primary">é©ç”¨</button>
</form>

<!-- ğŸ“Š ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤º -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
  <div class="card bg-base-100 shadow p-4">
    <h2 class="text-lg font-semibold border-b pb-1 mb-2">ğŸ“ˆ å‹ç‡ãƒ©ãƒ³ã‚­ãƒ³ã‚°</h2>
    <ol class="list-decimal ml-5 space-y-1">
      {% for item in ranking_win %}
        <li>{{ item.tag }}ï¼ˆ{{ item.avg_win }}%ï¼‰</li>
      {% else %}
        <li>è©²å½“ãƒ‡ãƒ¼ã‚¿ãªã—</li>
      {% endfor %}
    </ol>
  </div>

  <div class="card bg-base-100 shadow p-4">
    <h2 class="text-lg font-semibold border-b pb-1 mb-2">ğŸ§˜ å®‰å®šæ€§ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆä½DDï¼‰</h2>
    <ol class="list-decimal ml-5 space-y-1">
      {% for item in ranking_dd %}
        <li>{{ item.tag }}ï¼ˆ{{ item.avg_dd }}%ï¼‰</li>
      {% else %}
        <li>è©²å½“ãƒ‡ãƒ¼ã‚¿ãªã—</li>
      {% endfor %}
    </ol>
  </div>

  <div class="card bg-base-100 shadow p-4">
    <h2 class="text-lg font-semibold border-b pb-1 mb-2">ğŸ“Š ä»¶æ•°ãƒ©ãƒ³ã‚­ãƒ³ã‚°</h2>
    <ol class="list-decimal ml-5 space-y-1">
      {% for item in ranking_count %}
        <li>{{ item.tag }}ï¼ˆ{{ item.count }}ä»¶ï¼‰</li>
      {% else %}
        <li>è©²å½“ãƒ‡ãƒ¼ã‚¿ãªã—</li>
      {% endfor %}
    </ol>
  </div>
</div>

<!-- ğŸ“¤ CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ -->
<div class="mt-6">
  <a class="btn btn-secondary" href="/statistics/ranking/export?from={{ filter.from }}&to={{ filter.to }}&tag={{ filter.tag }}">
    ğŸ“¤ CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
  </a>
</div>
{% endblock %}
