flowchart TD

%% === ä¸­å¤®çµ±æ²»ãƒ»ç‹AIå±¤ ===
subgraph CENTRAL_GOV["ğŸ‘‘ Central Governance (Noctria Kingdom)"]
  KNOCTRIA["king_noctria.py<br>ç‹AIï¼šä¸­å¤®çµ±æ²»ãƒ»æŒ‡ä»¤ç™ºä»¤"]
  HERMES["hermes_cognitor.py<br>Hermesï¼šLLMè¦ç´„/è§£èª¬"]
  VERITAS["veritas_machine.py<br>Veritasï¼šMLæˆ¦ç•¥è©•ä¾¡"]
  PROMETHEUS["prometheus_oracle.py<br>Prometheusï¼šæœªæ¥äºˆæ¸¬"]
  AURUS["aurus_singularis.py<br>Aurusï¼šå¸‚å ´åˆ†æ"]
  LEVIA["levia_tempest.py<br>Leviaï¼šã‚¹ã‚­ãƒ£ãƒ«ãƒ”ãƒ³ã‚°/æµå‹•æ€§"]
end

%% === Airflowãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ»PDCAè‡ªå‹•åŒ–ã‚¯ãƒ©ã‚¹ã‚¿ ===
subgraph AIRFLOW_PDCA["ğŸ” Airflow PDCA/Strategy Workflow"]
  DAG_PDCA["veritas_pdca_dag.py<br>PDCAè‡ªå‹•ãƒ«ãƒ¼ãƒ—"]
  DAG_GEN["veritas_generate_dag.py<br>æˆ¦ç•¥ç”Ÿæˆ"]
  DAG_EVAL["veritas_eval_dag.py<br>æˆ¦ç•¥ä¸€æ‹¬è©•ä¾¡"]
  DAG_REEVAL["veritas_eval_single_dag.py<br>å˜ä½“å†è©•ä¾¡"]
  DAG_PUSH["veritas_push_dag.py<br>æ¡ç”¨/Push"]
  DAG_REPLAY["veritas_replay_dag.py<br>Replay/ãƒªã‚«ãƒãƒª"]
  DAG_ACTREC["veritas_act_record_dag.py<br>Actè¨˜éŒ²"]
end

%% === ãƒ¢ãƒ‡ãƒ«ãƒ»ç”Ÿæˆãƒ»è©•ä¾¡ã‚¯ãƒ©ã‚¹ã‚¿ ===
subgraph STRATEGY_GEN["ğŸ§  MLæˆ¦ç•¥ç”Ÿæˆãƒ»è©•ä¾¡"]
  STRAT_GEN["strategy_generator.py<br>æˆ¦ç•¥ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯"]
  SIMPLE_MODEL["models/ml_model/simple_model.py<br>MLãƒ¢ãƒ‡ãƒ«æœ¬ä½“"]
  STRAT_EVAL["strategy_evaluator.py<br>æˆ¦ç•¥è©•ä¾¡ãƒ­ã‚¸ãƒƒã‚¯"]
end

%% === GUI/HUDãƒ»APIã‚¯ãƒ©ã‚¹ã‚¿ ===
subgraph GUI_API["ğŸ’» GUIãƒ»APIï¼ˆFastAPI/HTML/HUDï¼‰"]
  ROUTES_HOME["routes/home.py"]
  ROUTES_DASH["routes/dashboard.py"]
  ROUTES_KING["routes/king_routes.py"]
  ROUTES_AI["routes/ai_routes.py"]
  ROUTES_PDCA["routes/pdca.py"]
  ROUTES_TRIGGER["routes/trigger.py"]
  GUI_TEMPLATES["templates/*.html<br>ï¼ˆbase_hud, dashboard, trigger, etc.ï¼‰"]
  STATIC_HUD["static/hud_style.css"]
end

%% === DBãƒ»Logãƒ»Configãƒ»ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã‚¿ ===
subgraph STORAGE["ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿/è¨­å®š/ãƒ­ã‚°"]
  POSTGRES["PostgreSQL<br>æˆ¦ç•¥ãƒ»è©•ä¾¡è¨˜éŒ²"]
  LOGS["logs/<br>å„ç¨®ãƒ­ã‚°"]
  CONFIG["core/path_config.py, settings.py"]
end

%% === ãƒ‡ãƒ¼ã‚¿/æŒ‡æ¨™ãƒ•ãƒ­ãƒ¼ï¼ˆAIâ†”DAG/DBï¼‰ ===
KNOCTRIA -- æŒ‡ä»¤/çµ±æ²» --> HERMES
KNOCTRIA -- æŒ‡ä»¤/çµ±æ²» --> VERITAS
KNOCTRIA -- æŒ‡ä»¤/çµ±æ²» --> PROMETHEUS
KNOCTRIA -- æŒ‡ä»¤/çµ±æ²» --> AURUS
KNOCTRIA -- æŒ‡ä»¤/çµ±æ²» --> LEVIA

KNOCTRIA -- ç™ºä»¤/æ“ä½œ --> ROUTES_KING

HERMES -- LLMã‚µãƒãƒª/è§£èª¬ --> ROUTES_AI
VERITAS -- è©•ä¾¡/PDCAçµ±æ‹¬ --> AIRFLOW_PDCA
VERITAS -- æˆ¦ç•¥è©•ä¾¡ --> STRAT_EVAL
VERITAS -- æˆ¦ç•¥ç”Ÿæˆ --> STRAT_GEN
STRAT_GEN -- ãƒ¢ãƒ‡ãƒ«èª­è¾¼/ç”Ÿæˆ --> SIMPLE_MODEL

AIRFLOW_PDCA -- æˆ¦ç•¥ç”Ÿæˆãƒ»è©•ä¾¡ --> STRATEGY_GEN
AIRFLOW_PDCA -- Actè¨˜éŒ²/è©•ä¾¡è¨˜éŒ² --> POSTGRES
AIRFLOW_PDCA -- ãƒ­ã‚°/éšœå®³ --> LOGS

ROUTES_HOME --> GUI_TEMPLATES
ROUTES_DASH --> GUI_TEMPLATES
ROUTES_AI --> GUI_TEMPLATES
ROUTES_KING --> GUI_TEMPLATES
ROUTES_TRIGGER --> GUI_TEMPLATES
GUI_TEMPLATES -.-> STATIC_HUD

GUI_TEMPLATES -- è¡¨ç¤ºãƒ‡ãƒ¼ã‚¿ --> POSTGRES
ROUTES_PDCA -- PDCAæ“ä½œ --> AIRFLOW_PDCA
ROUTES_TRIGGER -- DAGæ“ä½œ --> AIRFLOW_PDCA

STRAT_GEN -- ãƒ¢ãƒ‡ãƒ«/è©•ä¾¡ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ --> CONFIG
AIRFLOW_PDCA -- è¨­å®šèª­è¾¼ --> CONFIG

PROMETHEUS -- æœªæ¥äºˆæ¸¬/æŒ‡æ¨™ --> ROUTES_DASH
AURUS -- å¸‚å ´åˆ†æ --> ROUTES_DASH
LEVIA -- ã‚¹ã‚­ãƒ£ãƒ«ãƒ”ãƒ³ã‚°æˆç¸¾ --> ROUTES_DASH

%% === å„AIã®ãƒ‡ãƒ¼ã‚¿å‚ç…§ç³» ===
VERITAS -- è©•ä¾¡/PDCAé›†è¨ˆ --> ROUTES_PDCA
HERMES -- ã‚µãƒãƒª/è§£èª¬ --> ROUTES_AI
PROMETHEUS -- äºˆæ¸¬å€¤ --> ROUTES_DASH

%% === ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»Replayç³» ===
DAG_REPLAY -- ãƒ­ã‚°/è¨˜éŒ² --> POSTGRES
DAG_ACTREC -- Actè¨˜éŒ² --> POSTGRES

%% === ç’°å¢ƒå¤‰æ•°ãƒ»è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« ===
CONFIG -.-> STRAT_GEN
CONFIG -.-> AIRFLOW_PDCA
CONFIG -.-> ROUTES_DASH

%% === ãƒ¢ãƒ‡ãƒ«ä¿å­˜ãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç† ===
SIMPLE_MODEL -- ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç† --> STORAGE

