%% CHECKå±¤ è©³ç´°å›³ï¼ˆå®Ÿç¸¾è©•ä¾¡ãƒ»ç›£è¦–ãƒ»é›†è¨ˆï¼‰
flowchart TD

  %% å…¥åŠ›ï¼ˆDoå±¤ã‹ã‚‰ã®çµæžœ/ã‚¤ãƒ™ãƒ³ãƒˆï¼‰
  subgraph INPUTS["ä¸Šæµå…¥åŠ› (from DO)"]
    EXECRES["exec_result.json\n(ç´„å®š/æç›Š/ã‚³ã‚¹ãƒˆ)"]
    RISEVT["risk_event.json\n(æå¤±/é€£æ•—/ç•°å¸¸)"]
    AUDIT["audit_order.json\n(å®Œå…¨ç›£æŸ»ãƒ­ã‚°)"]
  end

  %% CHECKå±¤
  subgraph CHECK["ðŸ” Checkå±¤ (src/check)"]
    MON["challenge_monitor.py\nãƒ»DDç›£è¦–/é€£æ•—ç›£è¦–\nãƒ»ãƒ«ãƒ¼ãƒ«é€¸è„±æ¤œçŸ¥\nãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆç”Ÿæˆ"]
    EVAL["evaluation.py\nãƒ»æ—¥æ¬¡/æˆ¦ç•¥åˆ¥KPI\nãƒ»å‹çŽ‡/æœ€å¤§DD/å–å¼•æ•°/å¹³å‡R"]
    AGG["aggregator.py\nãƒ»æœŸé–“é›†è¨ˆ/AIåˆ¥/ã‚·ãƒ³ãƒœãƒ«åˆ¥\nãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°/ã‚¿ã‚°åˆ¥æ¯”è¼ƒ"]
    STORE["/data/pdca_logs/**/*.json\nãƒ»è©•ä¾¡ãƒ»ç›£è¦–ãƒ»æŒ‡æ¨™ã®æ°¸ç¶šåŒ–"]
  end

  %% å‡ºåŠ›ï¼ˆAct/GUIï¼‰
  subgraph OUTPUTS["ä¸‹æµå‡ºåŠ› (to ACT/GUI)"]
    KPI["kpi_summary.json\n(æˆ¦ç•¥åˆ¥KPIã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ)"]
    ALERT["alert_payload.json\n(é€šçŸ¥/æŠ‘åˆ¶ãƒ•ãƒ©ã‚°ä»˜ã)"]
  end

  %% çµ±æ²»
  subgraph ORCH["çµ±æ²»/é‹ç”¨"]
    GUICHECK["GUI: /pdca/check\n(ãƒ¢ãƒ‹ã‚¿ & è©•ä¾¡ä¸€è¦§)"]
    DAGCHECK["Airflow DAG: pdca_check_flow.py\n(å®šæœŸè©•ä¾¡/é–¾å€¤åˆ¤å®š)"]
    NOTIFY["notifier.py\n(Slack/ãƒ¡ãƒ¼ãƒ«/Webhook)"]
  end

  %% ãƒ•ãƒ­ãƒ¼
  EXECRES --> EVAL
  RISEVT --> MON
  AUDIT --> AGG
  EVAL --> AGG --> STORE
  MON --> ALERT --> NOTIFY
  AGG --> KPI

  %% ç®¡ç†
  GUICHECK --> DAGCHECK
  DAGCHECK --> EVAL
  DAGCHECK --> MON
