flowchart TD
  %% --- Planå±¤ ---
  subgraph PLAN["ğŸ—ºï¸ PLANå±¤ï¼ˆcollectorâ†’featuresâ†’analyzer/statisticsï¼‰"]
    COLLECT["PlanDataCollector<br>å¸‚å ´ãƒ‡ãƒ¼ã‚¿åé›†"]
    FEATENG["FeatureEngineer<br>ç‰¹å¾´é‡ç”Ÿæˆ"]
    FEATDF["ç‰¹å¾´é‡DataFrame/Dictå‡ºåŠ›"]
    ANALYZER["PlanAnalyzer<br>è¦å› æŠ½å‡º/ãƒ©ãƒ™ãƒ«"]
  end

  %% --- Prometheus åˆ†é›¢æ§‹é€  ---
  subgraph PROMETHEUS["ğŸ”® Prometheus Oracle"]
    PROM_TRAIN["train_prometheus.py<br>å±¥æ­´å­¦ç¿’"]
    PROM_PRED["prometheus_oracle.py<br>æœªæ¥äºˆæ¸¬"]
  end

  %% --- Doå±¤ ---
  subgraph DO["âš”ï¸ Doå±¤ï¼ˆå®Ÿã‚ªãƒ¼ãƒ€ãƒ¼åŸ·è¡Œ/ãƒªã‚¹ã‚¯/ç›£è¦–ï¼‰"]
    ORDER["order_execution.py<br>ç™ºæ³¨APIæœ¬ä½“"]
    OPTORDER["optimized_order_execution.py<br>åˆ†å‰²/ãƒªãƒˆãƒ©ã‚¤æ¡ˆ"]
    CHALMON["challenge_monitor.py<br>ãƒªã‚¹ã‚¯/æå¤±ã‚¢ãƒ©ãƒ¼ãƒˆ"]
    GENORDER["generate_order_json.py<br>ã‚·ã‚°ãƒŠãƒ«è¨˜éŒ²ãƒ»JSONåŒ–"]
  end

  %% --- æ¥ç¶š ---
  COLLECT --> FEATENG
  FEATENG --> FEATDF
  FEATDF --> ANALYZER

  FEATDF --> PROM_TRAIN
  FEATDF --> PROM_PRED

  PROM_PRED --> ORDER

  ORDER --> GENORDER
  ORDER -.-> OPTORDER
  ORDER --> CHALMON
