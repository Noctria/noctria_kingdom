flowchart TD
  %% === PDCA/æˆ¦ç•¥/çµ±æ²»DAGç¾¤ ===
  subgraph Airflow_DAGs["Airflow DAGç¾¤"]
    direction TB
    VGEN["veritas_generate_dag.py<br>ğŸ”¨ æˆ¦ç•¥ç”Ÿæˆ"]
    VEVAL["veritas_eval_dag.py<br>ğŸ“ ä¸€æ‹¬è©•ä¾¡"]
    VEVALS["veritas_eval_single_dag.py<br>ğŸ•¹ï¸ å€‹åˆ¥è©•ä¾¡"]
    VACT["veritas_act_record_dag.py<br>ğŸ—’ï¸ æ¡ç”¨Actè¨˜éŒ²"]
    VPUSH["veritas_push_dag.py<br>â¬†ï¸ GitHub Push"]
    VRECHECK["veritas_recheck_dag.py<br>ğŸ” å€‹åˆ¥å†è©•ä¾¡"]
    VREFACTOR["veritas_refactor_dag.py<br>ğŸ”§ ãƒªãƒ•ã‚¡ã‚¯ã‚¿"]
    VREPLAY["veritas_replay_dag.py<br>ğŸ” ãƒ­ã‚°ã‹ã‚‰å†é€"]
    VTO["veritas_to_order_dag.py<br>âš”ï¸ EAå‘½ä»¤JSONåŒ–"]
    VPDCA["veritas_pdca_dag.py<br>ğŸ” PDCAãƒ«ãƒ¼ãƒ—"]
    NROYAL["noctria_kingdom_royal_council_dag.py<br>ğŸ‘‘ ç‹å›½å¾¡å‰ä¼šè­°"]
  end

  %% === ç‹çµ±æ²»ãƒ»AIå±¤ ===
  subgraph Kingdomçµ±æ²»["Noctria Kingdom ä¸­æ¢AIçµ±æ²»å±¤"]
    direction TB
    KING["king_noctria.py<br>ğŸ‘‘ King Noctria<br>ï¼ˆdecision_idçµ±æ²»ãƒ»DAGçµ±æ‹¬ãƒ»å…¨AIå‘¼å‡ºã—ï¼‰"]
    AURUS["aurus_singularis.py<br>ğŸ¯ Aurus<br>å¸‚å ´åˆ†æAI"]
    LEVIA["levia_tempest.py<br>âš¡ Levia<br>ã‚¹ã‚­ãƒ£ãƒ«ãƒ”ãƒ³ã‚°AI"]
    NOCTUS["noctus_sentinella.py<br>ğŸ›¡ï¸ Noctus<br>ãƒªã‚¹ã‚¯ç®¡ç†å®˜"]
    PROM["prometheus_oracle.py<br>ğŸ”® Prometheus<br>æœªæ¥äºˆæ¸¬"]
    HERMES["hermes_cognitor.py<br>ğŸ¦‰ Hermes<br>LLMè¦ç´„/èª¬æ˜"]
    VERITAS["veritas_machina.py<br>âš–ï¸ Veritas<br>æˆ¦ç•¥è©•ä¾¡"]
  end

  %% === å‘¼ã³å‡ºã—é–¢ä¿‚ï¼ˆç‹â†’è‡£ä¸‹AI/DAGï¼‰ ===
  KING --> AURUS
  KING --> LEVIA
  KING --> NOCTUS
  KING --> PROM
  KING --> HERMES
  KING --> VERITAS

  KING -. decision_id/çµ±æ²»APIçµŒç”± .-> VGEN
  KING -. decision_id/çµ±æ²»APIçµŒç”± .-> VEVAL
  KING -. decision_id/çµ±æ²»APIçµŒç”± .-> VACT
  KING -. decision_id/çµ±æ²»APIçµŒç”± .-> VPUSH
  KING -. decision_id/çµ±æ²»APIçµŒç”± .-> VRECHECK
  KING -. decision_id/çµ±æ²»APIçµŒç”± .-> VREFACTOR
  KING -. decision_id/çµ±æ²»APIçµŒç”± .-> VREPLAY
  KING -. decision_id/çµ±æ²»APIçµŒç”± .-> VTO
  KING -. decision_id/çµ±æ²»APIçµŒç”± .-> VPDCA
  KING -. decision_id/çµ±æ²»APIçµŒç”± .-> NROYAL

  %% === DAGé–“ã®ä»£è¡¨çš„ãªæµã‚Œ ===
  VGEN --> VEVAL --> VACT --> VPUSH
  VEVALS --> VACT
  VACT --> VTO
  VRECHECK --> VEVAL
  VREFACTOR --> VPUSH
  VREPLAY --> VACT

  %% === è£œè¶³: ä¸»è¦ãƒ‘ã‚¹ãƒ»ãƒ­ã‚°ä¿å­˜å±¤ï¼ˆçœç•¥å¯ï¼‰ ===
  %% ãƒ‡ãƒ¼ã‚¿/ãƒ­ã‚°/AIãƒ¢ãƒ‡ãƒ«å±¤ã¯çœç•¥

  %% === èª¬æ˜ ===
  classDef king fill:#222,stroke:#fb0,stroke-width:2px;
  class KING king;

