flowchart TD

%% ========== [1] æˆ¦ç•¥ç”Ÿæˆãƒ»è©•ä¾¡ãƒ»å®Ÿè¡Œã‚¯ãƒ©ã‚¹ã‚¿ï¼ˆVeritas/Prometheusç­‰ï¼‰ ==========
subgraph STRATEGY_CLUSTER["ğŸ§  æˆ¦ç•¥AIãƒ»ç”Ÿæˆ/è©•ä¾¡/äºˆæ¸¬ã‚¯ãƒ©ã‚¹ã‚¿"]
    direction TB

    %% -- æˆ¦ç•¥ç”Ÿæˆ
    VGEN["src/veritas/veritas_generate_strategy.py<br/>âœ’ï¸ Veritas Strategy Generator"]
    VEVAL["src/veritas/evaluate_veritas.py<br/>âš–ï¸ Veritas Machina Evaluator"]
    VSTRGEN["src/veritas/strategy_generator.py<br/>ğŸ¤– Veritas MLæˆ¦ç•¥è‡ªå‹•ç”Ÿæˆ"]
    SMODEL["src/veritas/models/ml_model/simple_model.py<br/>PyTorch SimpleModel"]

    %% -- AI/æˆ¦ç•¥å®˜
    PROM["src/strategies/prometheus_oracle.py<br/>ğŸ”® Prometheus Oracle"]
    AURUS["src/strategies/aurus_singularis.py<br/>ğŸ¯ Aurus Singularis"]
    LEVIA["src/strategies/levia_tempest.py<br/>âš¡ Levia Tempest"]
    NOCTUS["src/strategies/noctus_sentinella.py<br/>ğŸ›¡ï¸ Noctus Sentinella"]
    HERMES["src/strategies/hermes_cognitor.py<br/>ğŸ¦‰ Hermes Cognitor (LLMèª¬æ˜)"]

    %% -- ã‚³ã‚¢
    PATHCONF["src/core/path_config.py<br/>ğŸ“Œ Path Config"]
    RISK["src/core/risk_manager.py<br/>ãƒªã‚¹ã‚¯ç®¡ç†"]
    LOGGER["src/core/logger.py<br/>ãƒ­ã‚¬ãƒ¼"]
end

%% ========== [2] Planãƒ‡ãƒ¼ã‚¿åé›†ãƒ»çµ±è¨ˆã‚¯ãƒ©ã‚¹ã‚¿ ==========
subgraph PLAN_CLUSTER["ğŸ“Š Planãƒ‡ãƒ¼ã‚¿åé›†ãƒ»çµ±è¨ˆã‚¯ãƒ©ã‚¹ã‚¿"]
    direction TB

    PCOLL["src/plan_data/collector.py<br/>ãƒ‡ãƒ¼ã‚¿åé›†ï¼ˆå¸‚å ´/FRED/ãƒ‹ãƒ¥ãƒ¼ã‚¹ï¼‰"]
    PSTATS["src/plan_data/statistics.py<br/>çµ±è¨ˆãƒ»KPIé›†è¨ˆ"]
    PFEAT["src/plan_data/features.py<br/>ç‰¹å¾´é‡ç”Ÿæˆ"]
end

%% ========== [3] Airflowãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼/DAGã‚¯ãƒ©ã‚¹ã‚¿ ==========
subgraph DAG_CLUSTER["ğŸ› ï¸ Airflowãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼DAGã‚¯ãƒ©ã‚¹ã‚¿"]
    direction TB

    DAG_AURUS["airflow_docker/dags/aurus_strategy_dag.py<br/>Aurusåˆ†æDAG"]
    DAG_HERMES["airflow_docker/dags/hermes_strategy_dag.py<br/>Hermesèª¬æ˜DAG"]
    DAG_LEVIA["airflow_docker/dags/levia_strategy_dag.py<br/>Leviaã‚¹ã‚­ãƒ£ãƒ«ãƒ”ãƒ³ã‚°DAG"]
    DAG_PROM["airflow_docker/dags/prometheus_strategy_dag.py<br/>Prometheusäºˆæ¸¬DAG"]
    DAG_NOCTUS["airflow_docker/dags/noctus_strategy_dag.py<br/>Noctusãƒªã‚¹ã‚¯DAG"]
    DAG_PUSH["airflow_docker/dags/veritas_push_dag.py<br/>æˆ¦ç•¥GitHub Push DAG"]
    DAG_KING["airflow_docker/dags/noctria_kingdom_dag.py<br/>ğŸ‘‘ ç‹å›½Royal Council DAG"]
end

%% ========== [4] çµ±æ²»/ä¸­å¤®AIãƒ»APIãƒ»GUIã‚¯ãƒ©ã‚¹ã‚¿ ==========
subgraph CENTRAL_CLUSTER["ğŸ‘‘ ä¸­å¤®çµ±æ²»AIãƒ»APIãƒ»GUIã‚¯ãƒ©ã‚¹ã‚¿"]
    direction TB

    KINGROUTES["noctria_gui/routes/king_routes.py<br/>ä¸­å¤®çµ±æ²»API"]
    KINGNOCTRIA["src/core/king_noctria.py<br/>KingNoctriaçµ±æ²»AI"]
    LOGS["logs/king_log.jsonl ã»ã‹"]
end

%% ========== [5] ãƒ•ã‚¡ã‚¤ãƒ«ä¾å­˜ãƒ»æ¥ç¶šç·š ==========
%% -- Veritasç”Ÿæˆãƒ»è©•ä¾¡ãƒ»æˆ¦ç•¥
VGEN -->|æˆ¦ç•¥ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ| VSTRGEN
VSTRGEN -->|æˆ¦ç•¥Pyå‡ºåŠ›| SMODEL
VEVAL -->|è©•ä¾¡| VGEN
VEVAL -->|æˆ¦ç•¥è©•ä¾¡| SMODEL
PROM -->|æœªæ¥äºˆæ¸¬| PATHCONF
AURUS -->|å¸‚å ´åˆ†æ| PATHCONF
LEVIA -->|ã‚¹ã‚­ãƒ£ãƒ«ãƒ”ãƒ³ã‚°| PATHCONF
NOCTUS -->|ãƒªã‚¹ã‚¯ç®¡ç†| RISK
NOCTUS -->|PathConfigå‚ç…§| PATHCONF
HERMES -->|èª¬æ˜ç”Ÿæˆ| PATHCONF

%% -- Plan/çµ±è¨ˆç³»
PSTATS -->|ãƒ‡ãƒ¼ã‚¿é›†è¨ˆ| PCOLL
PFEAT -->|ç‰¹å¾´é‡| PCOLL

%% -- Airflow DAG <-> AIæˆ¦ç•¥
DAG_AURUS -->|åˆ†æ| AURUS
DAG_HERMES -->|èª¬æ˜| HERMES
DAG_LEVIA -->|ã‚¹ã‚­ãƒ£ãƒ«| LEVIA
DAG_PROM -->|äºˆæ¸¬| PROM
DAG_NOCTUS -->|ãƒªã‚¹ã‚¯| NOCTUS
DAG_PUSH -->|GitHubPush| VGEN
DAG_KING -->|å¾¡å‰ä¼šè­°| KINGNOCTRIA

%% -- çµ±æ²»AI/GUI <-> ç‹
KINGROUTES -->|APIå‘¼ã³å‡ºã—| KINGNOCTRIA
KINGNOCTRIA -->|å…¨AIçµ±æ²»| PROM
KINGNOCTRIA -->|å…¨AIçµ±æ²»| AURUS
KINGNOCTRIA -->|å…¨AIçµ±æ²»| LEVIA
KINGNOCTRIA -->|å…¨AIçµ±æ²»| NOCTUS
KINGNOCTRIA -->|å…¨AIçµ±æ²»| HERMES
KINGROUTES -->|çµ±æ²»ãƒ­ã‚°| LOGS

%% -- PathConfigä¾å­˜ï¼ˆå…¨ä½“æ§‹æˆï¼‰
PATHCONF -->|å…¨æˆ¦ç•¥/ãƒ‡ãƒ¼ã‚¿æ§‹é€ ç®¡ç†| VGEN
PATHCONF -->|å…¨æˆ¦ç•¥/ãƒ‡ãƒ¼ã‚¿æ§‹é€ ç®¡ç†| PROM
PATHCONF -->|å…¨æˆ¦ç•¥/ãƒ‡ãƒ¼ã‚¿æ§‹é€ ç®¡ç†| AURUS
PATHCONF -->|å…¨æˆ¦ç•¥/ãƒ‡ãƒ¼ã‚¿æ§‹é€ ç®¡ç†| LEVIA
PATHCONF -->|å…¨æˆ¦ç•¥/ãƒ‡ãƒ¼ã‚¿æ§‹é€ ç®¡ç†| NOCTUS
PATHCONF -->|å…¨æˆ¦ç•¥/ãƒ‡ãƒ¼ã‚¿æ§‹é€ ç®¡ç†| HERMES
PATHCONF -->|å…¨æˆ¦ç•¥/ãƒ‡ãƒ¼ã‚¿æ§‹é€ ç®¡ç†| PCOLL
PATHCONF -->|å…¨æˆ¦ç•¥/ãƒ‡ãƒ¼ã‚¿æ§‹é€ ç®¡ç†| PSTATS
PATHCONF -->|å…¨æˆ¦ç•¥/ãƒ‡ãƒ¼ã‚¿æ§‹é€ ç®¡ç†| PFEAT

%% -- ãƒ­ã‚¬ãƒ¼ç­‰ï¼ˆçœç•¥å¯ï¼‰
LOGGER -->|logging| VGEN
LOGGER -->|logging| VSTRGEN

%% -- è£œè¶³
%% AIãƒ»æˆ¦ç•¥/ãƒªã‚¹ã‚¯/çµ±æ²»API/DAGã¯å…¨ã¦ç‹çµŒç”±ã§çµ±åˆ
